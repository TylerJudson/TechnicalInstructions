<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fallout 4 Item Sorting Tag Fix</title>
    <style>
        /* --- Reusable Step Box Component --- */
        .step-box {
            display: grid;
            grid-template-columns: 3fr 2fr; /* text left, image right */
            gap: 30px;
            margin-bottom: 2em;
            border-bottom: 1px solid #eee;
            padding-bottom: 2em;
            align-items: flex-start;
        }
        .step-box .step-content {
            display: flex;
            flex-direction: column;
            gap: 0.5em;
        }
        .step-box .step-image {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 15px;
        }
        @media (max-width: 900px) {
            .step-box {
                grid-template-columns: 1fr;
            }
            .step-box .step-image {
                order: 2;
                margin-top: 20px;
            }
            .step-box .step-content {
                order: 1;
            }
        }
        /* --- Reusable Sub-Step Box Component --- */
        .sub-step-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 0;
            padding: 0;
            width: 100%;
        }
        .sub-step-box.single-column {
            grid-template-columns: 1fr;
        }
        .sub-step-box .step-content {
            display: block;
            padding-top: 2.5em;
        }
        .sub-step-box .step-image {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 15px;
        }
        @media (max-width: 900px) {
            .sub-step-box {
                grid-template-columns: 1fr;
                margin-left: 0;
            }
            .sub-step-box .step-image {
                order: 2;
                margin-top: 15px;
            }
            .sub-step-box .step-content {
                order: 1;
            }
        }
        /* --- Instructional Tip/Warning Boxes --- */
        .tip-box {
            background-color: #e6f9f1;
            border-left: 5px solid #4ecdc4;
            padding: 0.75em 1em;
            margin: 0.8em 0 0 0;
            border-radius: 4px;
            color: #20504f;
            font-size: 0.9em;
        }
        .troubleshooting-box {
            background-color: #fffbe7;
            border-left: 5px solid #ffd166;
            padding: 0.75em 1em;
            margin: 0.8em 0 0 0;
            border-radius: 4px;
            color: #7a641f;
            font-size: 0.9em;
        }
        .warning-box {
            background-color: #fff4f4;
            border-left: 5px solid #ff6b6b;
            padding: 0.75em 1em;
            margin: 0.8em 0 0 0;
            border-radius: 4px;
            color: #a23a3a;
            font-size: 0.9em;
        }
        /* --- Base Styling --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.7;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 20px;
            zoom: 0.75;
        }

        b {
            display: inline;
        }

        main {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            padding: 1em 2.5em 2.5em 2.5em;
        }

        header h1 {
            text-align: center;
            color: #1a535c;
            border-bottom: 2px solid #4ecdc4;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        h2 {
            font-size: 2em;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
            color: #1a535c;
            margin-top: 1.5em;
        }
        
        h3 {
            color: #1a535c;
            font-size: 1.4em;
        }

        p, li {
            font-size: 1.1em;
            color: #444;
        }

        cite {
            font-style: normal;
            font-size: 0.8em;
            color: #999;
            margin-left: 4px;
        }

        /* --- Section Styling --- */
        #equipment ul {
            list-style: none;
            padding-left: 0;
        }
        #equipment ul li {
            position: relative;
            padding-left: 30px;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        #equipment ul li::before {
            content: '✓';
            position: absolute;
            left: 0;
            top: 2px;
            color: #4ecdc4;
            font-weight: bold;
            font-size: 1.2em;
        }

        /* --- Completed Result Styling --- */
        .image-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            text-align: center;
            justify-items: center;
        }
        .image-comparison > div {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            width: 100%;
        }
        .image-comparison img {
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }
        .image-comparison h3 {
            font-size: 1.2em;
            color: #555;
        }

        /* --- Instructions Layout --- */

        /* --- Big Circle List Styling --- */
        .step-list {
            padding-right: 25px;
        }
        .step-list, .sub-step-list {
            list-style-type: none;
            padding-left: 10px; /* Base padding for alignment */
            counter-reset: step-counter;
        }
        
        .step-list > li {
            counter-increment: step-counter;
            position: relative;
            margin-bottom: 1.5em;
            padding-left: 65px; /* Make room for the circle */
            padding-top: 12px; /* Centers text with the 50px circle */
            min-height: 50px; /* Ensure text wraps below circle */
            font-size: 1.5em; /* Larger text for main steps */
        }

        /* The Big Circle for main steps (1, 2, 3...) */
        .step-list > li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #4ecdc4; /* Main color */
            color: white;
            font-size: 1.6em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 50px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* The Circles for sub-steps (a, b, c...) */
        .sub-step-list {
            counter-reset: sub-step-counter;
            margin-top: 1em;
            padding-left: 0;
            font-size: 0.75em; /* Reset to normal size - counteracts parent's 2em */
        }

        .sub-step-list > li {
            counter-increment: sub-step-counter;
            position: relative;
            margin-bottom: 0.8em;
            padding-left: 50px;
            min-height: 35px;
            font-size: 1.1em; /* Reset to normal size for substeps */
        }
        
        .sub-step-list > li::before {
            content: counter(sub-step-counter, lower-alpha); /* a, b, c */
            position: absolute;
            left: 0;
            top: 1.5em;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background-color: #ff6b6b; /* Accent color */
            color: white;
            font-size: 1.2em;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 35px;
        }

        /* --- Handling Continued Lists --- */
        /* This hides the number for a list item that only serves as a container */
        .step-list > li.list-continuation {
            padding-left: 0;
            margin-bottom: 0;
        }
        .step-list > li.list-continuation::before {
            display: none; /* Hide the big circle */
        }
        .step-list > li.list-continuation > .sub-step-list {
            margin-top: 0;
        }

        /* --- Other Elements --- */
        blockquote {
            border-left: 4px solid #ff6b6b;
            padding-left: 1.5em;
            margin-left: 1em;
            font-style: italic;
            color: #555;
            background-color: #fff9f9;
        }
        
        #troubleshooting ul {
            list-style: none;
            padding-left: 0;
        }
        #troubleshooting li {
            position: relative;
            padding-left: 35px;
            margin-bottom: 10px;
        }
        #troubleshooting li::before {
            content: '⚠️';
            position: absolute;
            left: 0;
            font-size: 1.5em;
            top: -3px;
        }

        /* --- Reusable Image Box Component --- */
        .image-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 1em;
            width: 100%;
        }
        .image-box .image-title {
            font-weight: bold;
            font-size: 1.15em;
            color: #224c57;
            text-align: left;
        }
        .image-box img {
            max-width: 100%;
            border-radius: 6px;
            border: 1px solid #ddd;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .image-box .image-caption {
            font-size: 0.97em;
            color: #888;
            margin-top: 0.5em;
            text-align: left;
            font-style: italic;
        }

        .sub-step-box .image-box .image-title {
            font-size: 0.8em;
        }
        .sub-step-box .image-box .image-caption {
            font-size: 0.7em;
        }

        /* --- Responsive Design --- */
        @media (max-width: 900px) {
            .image-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <main>
        <header>
            <h1>Adding Missing Tags for Item Sorting in Fallout 4: An Instructional Guide</h1>
        </header>

        <section id="intro">
            <h2>Introduction</h2>
              <p>These instructions are designed for Fallout players seeking to fix a missing tag bug in Fallout 4. Despite being written for Fallout players, these instructions have been written in a way such that anyone can complete them if they know how to install mods through Nexus and use file explorer. The intention of these instructions is to teach how to patch the user’s load order in a way that allows FallUI Sorter to sort all items added or changed in Fallout 4 by their mod list. These instructions will highlight the equipment and materials needed, the completed expected result, the instructions, and a troubleshooting guide.</p>
        </section>

        <section id="equipment">
            <h2>Equipment and Materials</h2>
            <ul>
                <li>Computer</li>
                <li>Fallout 4 game</li>
                <li>FO4Edit software (<a href="https://www.nexusmods.com/fallout4/mods/2737?tab=description" target="_blank">click here to install</a>)</li>
                <li>MO2 software (<a href="https://github.com/ModOrganizer2/modorganizer/releases" target="_blank">click here to install</a>)</li>
                <li>Old FallUI Sorter (<a href="https://www.nexusmods.com/fallout4/mods/49656" target="_blank">click here to install</a>)</li>
            </ul>
        </section>

        <section id="result">
            <h2>Completed Result</h2>
            <p>After successfully completing the instructions, the bug that incorrectly overwrites the tags for items will be patched. Your inventory will load correctly, and all items, vanilla and modded, will sort into the proper Sorter categories. See Figure 1 and Figure 2 for a comparison.</p>
            <div class="image-comparison">
                <div>
                    <div class="image-box" style="width: 500px;">
                        <div class="image-title">Figure 1</div>
                        <img src="Figure 1.png">
                        <div class="image-caption">Fallout 4 inventory before fix, showing unsorted items.</div>
                    </div>
                </div>
                <div>
                    <div class="image-box" style="width: 500px;">
                        <div class="image-title">Figure 2</div>
                        <img src="Figure 2.png">
                        <div class="image-caption">Fallout 4 inventory after fix, showing sorted items with tags.</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="instructions">
            <h2>Instructions</h2>

            <div style="margin-bottom: 2em;">
                <ol class="step-list">
                  <li>To start, open <b>MO2</b>. Find it by searching <b>"Mod Organizer"</b> on your Windows search bar.
                    <ol class="sub-step-list">
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            In <b>MO2</b>, ensure all <b>boxes</b> on the right-hand side are selected. (Figure 3)
                            <div class="tip-box">
                              <strong>Tip:</strong> Note the location of the run button. (But don't click it yet).
                            </div>
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 3</div>
                              <img src="Figure3.png" class="step-img">
                              <div class="image-caption">Mod Organizer 2 main window with all boxes checked</div>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            Click on the large <b>drop-down</b> box to the left of the <b>run</b> button. Then click <b>&lt;Edit..&gt;</b>. (Figure 4)
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 4</div>
                              <img src="Figure4.png" class="step-img">
                              <div class="image-caption">Location of <Edit...> in MO2 for editing executables</div>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            Create a new executable by pressing the "plus" sign and then <b>add from file</b>. (Figure 5)
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 5</div>
                              <img src="Figure5.png" class="step-img">
                              <div class="image-caption">Adding executable by file in MO2</div>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            Navigate to the file <b>FO4Edit.exe</b> located in the <b>downloads</b> folder. Select it and press <b>"open"</b>. Then, close the window by pressing <b>"OK"</b>. (Figure 6)
                            <div class="troubleshooting-box">
                              <strong>Note:</strong> If you can't find the exe file then you likely didn't download it correctly. You can download the exe file from the link provided above in Equipment and Materials.
                            </div>
                            </div>
                            <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 6</div>
                              <img src="Figure6.png" class="step-img">
                              <div class="image-caption">Location of FO4Edit.exe in FO4Edit file</div>
                            </div>
                            </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            Press the <b>Run button</b> (Figure 7). The F04Edit Software will open automatically.
                            <div class="troubleshooting-box">
                              <strong>Note:</strong> If the software doesn't open automatically quit out of the MO4 software and repeat from step 1.
                            </div>
                        </div>
                            <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 7</div>
                              <img src="Figure7.png" class="step-img">
                              <div class="image-caption">Location for run button to execute FO4Edit executable</div>
                            </div>
                          </div>
                        </div>
                      </li>
                    </ol>
                  </li>
                  <li>After opening the software three pop ups will appear
                    <ol class="sub-step-list">
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            Click <b>"OK"</b> on the first pop up about patch notes. (Figure 8)
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 8</div>
                              <img src="Figure8.png" class="step-img">
                              <div class="image-caption">Patch notes pop up</div>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            Click <b>"Close"</b> on the second about the authors. (Figure 9)
                            <div class="troubleshooting-box">
                              <strong>Note:</strong> If you are unable to click the close button, scroll to the bottom of the please read box.
                            </div>
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 9</div>
                              <img src="Figure9.png" class="step-img">
                              <div class="image-caption">Read me for authors pop up</div>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            The third pop up (Figure 10) will show all <b>loaded plugins</b>, <i>ensure that all of them are selected</i> and then press <b>"OK"</b>.
                            <div class="tip-box">
                              <strong>Tip:</strong> You are only required to select the mods that you want to modify once you know what those are. The more mods selected, the longer it takes to load.
                            </div>
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 10</div>
                              <img src="Figure10.png" class="step-img">
                              <div class="image-caption">Pop up for mod selection</div>
                            </div>
                          </div>
                        </div>
                      </li>
                    </ol>
                  </li>
                  <li>
                    <ol class="sub-step-list">
                      <li>
                        <div class="sub-step-box single-column">
                          <div class="step-content">
                            Click on the search bar labeled <b>"Filter by filename"</b>, located in the bottom-left corner of the window.
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            Search for the plugin called <b>MojaveImports.esp</b>.
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 11</div>
                              <img src="Figure11.png" class="step-img">
                              <div class="image-caption">Pop up for mod selection</div>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box single-column">
                          <div class="step-content">
                            Click on it to expand its items.
                          </div>
                        </div>
                      </li>
                    </ol>
                  </li>
                  <li>
                    <ol class="sub-step-list">
                      <li>
                        <div class="sub-step-box single-column">
                          <div class="step-content">
                            Press on the category <b>"Ingestibles"</b> to expand its items.
                            <div class="tip-box">
                              <strong>Tip:</strong> When adding items that are not in these instructions, make sure to find valid tags for the item type.
                            </div>
                            <div class="troubleshooting-box">
                              <strong>Note:</strong> Not all categories, like <b>"Spells"</b> or <b>"Object Effect,"</b> have physical items and can be skipped. To check if the entry is a physical item, look for a <b>FULL - Name</b> attribute in the description.
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            Click the item <b>Ghoul Flesh</b>. This will open a window to the right, listing the available attributes to edit (Figure 12). 
                            <div class="tip-box">
                              <strong>Tip:</strong> The columns are split by the different plugins, found in the top row of the table.
                            </div>
                          </div>
                            <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 12</div>
                              <img src="Figure12.png" class="step-img">
                              <div class="image-caption">Right-clicking on mod to add tags</div>
                            </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box single-column">
                          <div class="step-content">
                            Notice the row with the first entry <b>FULL - Name</b>. This is an important row that shows the tag used for sorting. For example, food items that inflict radiation damage are labeled with the tag <b>[RadFood]</b>.
                          </div>
                        </div>
                      </li>
                    </ol>
                  </li>
                  <li>In the <b>"Ingestibles"</b> tab, add a tag to all items that are missing a tag in the MojaveImports column.
                    <ol class="sub-step-list">
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            If the item has the tag in another column, copy the tag to the right most column. (Figure 13)
                            <div class="tip-box">
                              <strong>Tip:</strong> In order for the tag to not be overwritten and lost, make sure the right most column always has a tag.
                            </div>
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 13</div>
                              <img src="Figure13.png" class="step-img">
                              <div class="image-caption">Copying tag to another column</div>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box single-column">
                          <div class="step-content">
                            Find the attribute <b>FULL - Name</b> and right click on it. Then press edit.
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box">
                          <div class="step-content">
                            A pop up will show up that warns about uninformed editing. Press "Yes." (Figure 14)
                          </div>
                          <div class="step-image">
                            <div class="image-box">
                              <div class="image-title">Figure 14</div>
                              <img src="Figure14.png" class="step-img">
                              <div class="image-caption">Right-clicking on mod to add tags</div>
                            </div>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box single-column">
                          <div class="step-content">
                            Type the appropriate tag based on the naming scheme from step 4 (e.g., <b>[RadFood]</b> for radioactive food items).
                          </div>
                          <div class="tip-box">
                              <strong>Tip:</strong> With modded items, this step is more complicated. The user has the option to tag it as any valid tag, but the mod listing and object type can help.
                            </div>
                        </div>
                      </li>
                      <li>
                        <div class="sub-step-box single-column">
                          <div class="step-content">
                            Press <b>Enter</b> to save the tag.
                          </div>
                        </div>
                      </li>
                    </ol>
                  </li>
                  <li>Find all desired items to add their missing tags.</li>
                  <li>Once complete, save all the files by clicking on the <b>three lines</b> at the top-left side of the software and then <b>save</b>.
                    <ol class="sub-step-list">
                      <li>
                        <div class="sub-step-box single-column">
                          <div class="step-content">
                            Select all the files that you want to save then press <b>"OK"</b>
                          </div>
                        </div>
                      </li>
                    </ol>
                  </li>
                  <li>Boot up Fallout 4 and check that the tags are sorting items in the correct places.</li>
                </ol>
            </div>
        </section>

        <section id="notes">
            <h2>Notes</h2>
            <p>These instructions assume you have already installed FO4Edit and have basic familiarity with mod management through MO2. If you are new to modding, it is recommended to back up your save files before proceeding.</p>
            <p>The process of adding tags can be time-consuming depending on how many mods you have installed. Plan to spend 30-60 minutes if you have a large mod list. You may want to focus on frequently used items first.</p>
            <p>Some mods may already have proper tags from other patches or updates. Always check existing tags before making changes to avoid conflicts or duplicates in your load order.</p>
            <p>If you make a mistake while editing, you can close FO4Edit without saving and restart the process. FO4Edit will not modify your files until you explicitly save them in step 7.</p>
        </section>

    </main>

</body>
</html>